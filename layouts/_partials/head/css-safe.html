<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
{{ if eq .Site.Language.Lang "zh" }}
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200..900&family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
{{ else }}
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
{{ end }}

<!-- Aplayer -->
{{ $aplayerCSS := resources.Get "css/aplayer.css" }}
{{ if $aplayerCSS }}
<style>{{ $aplayerCSS.Content | safeCSS }}</style>
{{ end }}

<!-- Pagefind -->
{{ if eq .Kind "taxonomy" }}
<link rel="stylesheet" href="/pagefind/pagefind-ui.css">
{{ end }}

<!-- Extra -->
{{ range .Site.Params.extraCSSFiles -}}
<link
    rel="stylesheet"
    href="{{ $.Site.Params.staticPrefix }}{{ . | relURL }}"
/>
{{- end }}

<!-- UnoCSS -->
{{ $unoCSS := resources.Get "css/uno.css" }}
{{ if $unoCSS }}
  {{ if hugo.IsProduction }}
    {{ $unoCSS = $unoCSS | minify }}
  {{ end }}
  <style>{{ $unoCSS.Content | safeCSS }}</style>
{{ else }}
  <!-- 如果 UnoCSS 不存在，尝试从静态文件加载 -->
  <link rel="stylesheet" href="{{ "css/uno.css" | relURL }}">
{{ end }}

<!-- Main SCSS -->
{{ $mainSCSS := resources.Get "css/main.scss" }}
{{ if $mainSCSS }}
  {{ $mainSCSS = $mainSCSS | css.Sass }}
  {{ if hugo.IsProduction }}
    {{ $mainSCSS = $mainSCSS | minify }}
  {{ end }}
  <style>{{ $mainSCSS.Content | safeCSS }}</style>
{{ end }}